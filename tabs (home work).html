<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>

	<style>
		.item{
			display: none;
		}
		.item.active{
			display: block;
		}
		.blocks_wrap_content p{
			margin: 0;
		}
		.blocks_wrap_content{
			margin:  10px 0;
		}
	</style>
</head>
<body>
	
	<div id="tabs_1"></div>

	<div id="tabs_2"></div>

	<script>
		
		class Tabs{

			tabWrapElement = null;

			activeLinkElement = 0;

			contents = [];

			selectorName = null;

			init(selectorEl, obj, activeElIndex){
				let el = document.querySelector(selectorEl);

				this.selectorName = selectorEl;

				let valid = true;

				if(el != null){
					this.tabWrapElement = el;
				}
				else{
					valid = false;
				}

				if(Array.isArray(obj) && obj.length > 0){
					this.contents = obj;
				}
				else{
					valid = false;
				}

				this.activeLinkElement = Number(activeElIndex);

				if(valid){
					this.render();
				}
			}

			render(){
				this.tabWrapElement.innerHTML = this.renderNavigate() + this.renderBloks();
				this.switchTabs();
			}

			switchTabs(){
				let navigateItems = document.querySelectorAll(this.selectorName + " .navigate li");
				
				let context = this;
				for(let navigateItem of navigateItems){
					navigateItem.addEventListener('click', (evt)=>{
						context.activeLinkElement = evt.target.getAttribute('data-index');
						context.render();
					})
				}
			}

			renderNavigate(){
				let strHTML = "<div class='navigate'><ul>";

				let context = this;

				this.contents.forEach(function(obj, index){
					let classActive = "";

					if(index == context.activeLinkElement){
						classActive = "active";
					}

					strHTML += `<li data-index="${index}" class="${classActive}">${obj.linkName}</li>`;

				})
				strHTML += "</ul></div>";
				
				return strHTML;
			}

			renderBloks(){
				let strHTML = "<div class='blocks_wrap'>";

				let context = this;

				this.contents.forEach(function(obj, index){

					let classActive = "";

					if(index == context.activeLinkElement){
						classActive = "active";
					}

					strHTML += `<div class="item ${classActive}">${obj.block}</div>`;
				})

				
				strHTML += "</div>";
				
				return strHTML;
			}
		}

		class TabsContent{
			name = null;
			content = [];

			renderHot(){
				let context = this;
				let newHTML = "";

				context.content.forEach((object, index)=>{
					if(object.labelHot != ""){
						newHTML += `<div class='blocks_wrap_content'>
										<p class="item_labels">
											<span>${object.labelHot}</span>
											<span>${object.labelNew}</span>
											<span>${object.labelSale}</span>
											<span>${object.labelAction}</span>
										</p>
										<p class="item_name">${object.name}</p>
										<p class="item_price">${object.price}</p>
										<p class="item_amount">${object.amount}</p>
									</div>`
					}
				});

				return newHTML;		
			}

			renderNew(){
				let context = this;
				let newHTML = "";

				context.content.forEach((object, index)=>{
					if(object.labelNew != ""){
						newHTML += `<div class='blocks_wrap_content'>
										<p class="item_labels">
											<span>${object.labelHot}</span>
											<span>${object.labelNew}</span>
											<span>${object.labelSale}</span>
											<span>${object.labelAction}</span>
										</p>
										<p class="item_name">${object.name}</p>
										<p class="item_price">${object.price}</p>
										<p class="item_amount">${object.amount}</p>
									</div>`
					}
				});

				return newHTML;		
			};

			renderSale(){
				let context = this;
				let newHTML = "";

				context.content.forEach((object, index)=>{
					if(object.labelSale != ""){
						newHTML += `<div class='blocks_wrap_content'>
										<p class="item_labels">
											<span>${object.labelHot}</span>
											<span>${object.labelNew}</span>
											<span>${object.labelSale}</span>
											<span>${object.labelAction}</span>
										</p>
										<p class="item_name">${object.name}</p>
										<p class="item_price">${object.price}</p>
										<p class="item_amount">${object.amount}</p>
									</div>`
					}
				});

				return newHTML;		
			};

			renderAction(){
				let context = this;
				let newHTML = "";

				context.content.forEach((object, index)=>{
					if(object.labelAction != ""){
						newHTML += `<div class='blocks_wrap_content'>
										<p class="item_labels">
											<span>${object.labelHot}</span>
											<span>${object.labelNew}</span>
											<span>${object.labelSale}</span>
											<span>${object.labelAction}</span>
										</p>
										<p class="item_name">${object.name}</p>
										<p class="item_price">${object.price}</p>
										<p class="item_amount">${object.amount}</p>
									</div>`
					}
				});

				return newHTML;		
			};
		}

		let my_tab_content = new TabsContent();
		my_tab_content.content = [
				{
					name: "Телевизор",
					price: "20000 руб.",
					amount: "10 шт.",
					labelHot: "",
					labelNew: "",
					labelSale: "Распродажа!",
					labelAction: "",
				},
				{
					name: "Холодильник",
					price: "100000 руб.",
					amount: "2 шт.",
					labelHot: "Хит продаж!",
					labelNew: "Новинка!",
					labelSale: "",
					labelAction: "",
				},
				{
					name: "Монитор",
					price: "25000 руб.",
					amount: "6 шт.",
					labelHot: "Хит продаж!",
					labelNew: "",
					labelSale: "Распродажа!",
					labelAction: "",
				},
				{
					name: "Системный блок",
					price: "15000 руб.",
					amount: "7 шт.",
					labelHot: "",
					labelNew: "Новинка!",
					labelSale: "",
					labelAction: "Акция!",
				},
			];

		content_1 = [
			{
				linkName: "хиты продаж",
				block: my_tab_content.renderHot(),
			},
			{
				linkName: "новинки",
				block: my_tab_content.renderNew(),
			},
		]

		content_2 = [
			{
				linkName: "распродажи",
				block: my_tab_content.renderSale(),
			},
			{
				linkName: "акции",
				block: my_tab_content.renderAction(),
			},
		]
		
		let my_first_tabs = new Tabs();
		my_first_tabs.init("#tabs_1", content_1, 1);

		let my_last_tabs = new Tabs();
		my_last_tabs.init("#tabs_2", content_2, 0);



	</script>
</body>
</html>